/****************************************************************************
 ** @license
 ** This file is part of yFiles for HTML 2.4.0.5.
 **
 ** yWorks proprietary/confidential. Use is subject to license terms.
 **
 ** Copyright (c) 2022 by yWorks GmbH, Vor dem Kreuzberg 28,
 ** 72070 Tuebingen, Germany. All rights reserved.
 **
 ***************************************************************************/
import y from"./core.js";import l from"./lang.js";import _a_ from"./algorithms.js";import _b_ from"./layout-core.js";import _c_ from"./layout-hierarchic.js";import _d_ from"./router-other.js";_a_.lang=l,_b_.lang=l,_c_.lang=l,_d_.lang=l,function($,f,n,t){"use strict";function i(f){var n=new $.C.GVC,t=n.$YDa;t.$Dda=new $.C.DWC.$b(0,!1),t.$OMa=60,t.$ELa=20;var i=n.$eEa;switch(f.$f7){case-1:i.$Zma=0;break;case 0:i.$Zma=.5;break;case 1:i.$Zma=1}return n}function l($,f,n,t){for(var i=1,r=f.$VVa();r.$ti;r.$cn()){var a=r.$Fi;if(a!==n&&-1===t.indexOf(a)){t.$m6(a);for(var e=a.$LVa();e.$ti;e.$cn()){var o=e.$Fi;o!==f&&(i+=l($,o,a,t))}}}return i}function r($,f,n){for(var t=0,i=0,l=f.$lRa();l.$ti;l.$cn()){var r=l.$Fi;1===n.$no(r)?r.$f7>0&&i++:t+=r.$f6}return i<=1&&2===t}function a(f,n,t){var i=n.$Lgb($.O.$p53);f.$f16=n.$sUa(),f.$f17=n.$sUa(),f.$f3=n.$sUa(),f.$f4=n.$sUa(),f.$f12 instanceof $.C.GVC&&0!==f.$f20&&(f.$f=f.$f12.$Psb(n)),function(f,n,t){f.$f5=$.DF.$m14(n.$FS),f.$f1=new $.FE;var i=new $.FE;f.$f11=new $.C.TCB.$a,f.$f2=n.$tUa(),f.$f15=n.$tUa(),f.$f6=n.$tUa(),f.$f9=n.$tUa(),f.$f8=n.$tUa(),f.$f19=new $.ME;for(var l=n.$vUa();l.$ti;l.$cn()){var r=new $.C.TCB.$a,a=l.$Fi;f.$f2.$Pt(a,"n"+a.$eF),1===n.$Lgb($.O.$p53).$no(a)?e(f,a,r):o(f,a,r);var s=new $.FE;s.$m(r),u(f,r,s);for(var b=0;b<s.$Tb;b++)if((r=s.$Wb(b)).$f1>1){for(var h=new $.HH.$c1("GN"),c=0;c<r.$f1;c++)h.$m2($.LF.$m8(r.$Wb(c).$eF)),h.$m2("/");i.$m(h.toString()),f.$f1.$m(r)}}for(var v=0;v<f.$f1.$Tb;v++){var m=new $.C.LBB(0,0,0,0),p=n.$jTa(),r=f.$f1.$Wb(v);f.$f11.$m6(p);for(var C=0;C<r.$f1;C++){var w=r.$Wb(C);f.$f15.$Pt(w,i.$Wb(v)),f.$f9.$Pt(w,t),f.$f8.$Pt(w,m)}f.$f8.$Pt(p,m),f.$f6.$td(p,!0),f.$f2.$Pt(p,i.$Wb(v))}n.$pwb($.O.$p4,f.$f2),n.$pwb($.O.$p34,f.$f15),n.$pwb($.O.$p3,f.$f6),n.$pwb($.O.$p66,f.$f8),n.$pwb($.O.$p25,f.$f9)}(f,n,t);for(var l=n.$Lgb($.O.$p1),r=n.$vUa();r.$ti;r.$cn()){var a=r.$Fi;if(1===n.$Lgb($.O.$p53).$no(a)){for(var s=null,b=a.$Lib(null);b.$ti;b.$cn()){var h=b.$Ei.$f3;if(null===s&&(s=h),n.$txb(b.$Ei,new $.C.UBB.$b(0,n.$m38(b.$Ei.$f2).$ck/2)),n.$vxb(b.$Ei,new $.C.UBB.$b(0,-n.$m38(b.$Ei.$f3).$ck/2)),f.$f3.$Pt(b.$Ei,$.T.BSC.$b(2,!0)),f.$f4.$Pt(b.$Ei,$.T.BSC.$b(1,!0)),null!==f.$f&&s!==h){var c=null===l?s:l.$no(s),v=null===l?h:l.$no(h);(4===f.$f20||3===f.$f20)!==(2===i.$no(h))?f.$f.$Iw(c,v):f.$f.$Lw(c,v)}}for(var m=new $.FE,p="CG"+a.$eF,C=a.$Lib(null);C.$ti;C.$cn()){var w=C.$Ei;f.$f16.$Pt(w,p);var O=f.$f15.$no(w.$f3);null!==O&&-1!==m.indexOf(O)||(f.$f17.$Pt(w,p),null!==O&&m.$m(O))}}}n.$pwb($.O.$p109,f.$f16),n.$pwb($.O.$p110,f.$f17),n.$pwb($.O.$p167,f.$f3),n.$pwb($.O.$p168,f.$f4)}function e(f,n,t){if(1!==n.$f2.$Lgb($.O.$p53).$no(n))throw $.JG.$m30(O[5]);if(!f.$f5[n.$eF]){t.$m6(n),f.$f5[n.$eF]=!0;for(var i=0,l=n.$VVa();l.$ti;l.$cn())if(o(f,l.$Fi,t),++i>2)throw $.JG.$m30(O[6])}}function o(f,n,t){if(1===n.$f2.$Lgb($.O.$p53).$no(n))throw $.JG.$m30(O[7]);if(!f.$f5[n.$eF]){t.$m6(n),f.$f5[n.$eF]=!0;for(var i=n.$LVa();i.$ti;i.$cn())e(f,i.$Fi,t)}}function u(f,n,t){var i=-1,l=-1;for(i=0;i<n.$f1;i++){var r=n.$Wb(i);if(1===r.$f2.$Lgb($.O.$p53).$no(r)){for(var a=r.$LVa();a.$ti&&!((l=n.indexOf(a.$Fi))>-1);a.$cn());if(l>-1)break}}if(-1!==l){var e=new $.C.TCB.$a,o=n.$Wb(i),h=n.$Wb(l),c=new $.C.TCB.$a;n.$rh(h),e.$m6(h);for(a=h.$LVa();a.$ti;a.$cn()){var v=a.$Fi;n.$rh(v),e.$m6(v);for(var m=v.$VVa();m.$ti;m.$cn()){var p=m.$Fi;p!==h&&(s(f,v,p,o,h)?b(f,v,n,e):c.$m6(v))}}if(n.$jSa()){n.$mYa(e),c.$nh(),n.$rh(h),e.$m6(h);for(a=h.$LVa();a.$ti;a.$cn()){v=a.$Fi;n.$rh(v),e.$m6(v),c.$m6(v)}}for(a=c.$lRa();a.$ti;a.$cn())for(var C=a.$Fi.$Ogb(null);C.$ti;C.$cn())if(C.$Ei.$f2!==h){var w=h.$f2;w.$txb(C.$Ei,new $.C.UBB.$b(0,0)),w.$vxb(C.$Ei,new $.C.UBB.$b(0,0)),f.$f3.$Pt(C.$Ei,$.T.BSC.$b(0,!0)),f.$f4.$Pt(C.$Ei,$.T.BSC.$b(0,!0)),f.$f19.$m(C.$Ei)}u(f,n,t),u(f,e,t),t.$m(e)}}function s(f,n,t,i,l){return function f(n,t,i,l,r,a){if(!$.KE.$m9(a,new $.T.AUC.T(t,i)))return!0;var e=!0;for(var o=i.$LVa();o.$ti;o.$cn()){var u=o.$Fi;if(u!==t){if(u===l)return!1;for(var s=u.$VVa();s.$ti;s.$cn()){var b=s.$Fi;if(b!==i&&!f(n,u,b,l,r,a)){e=!1;break}}}}return e}(f,n,t,i,l,new $.ME)}function b($,f,n,t){for(var i=f.$VVa();i.$ti;i.$cn()){var l=i.$Fi;if(!(n.indexOf(l)<0)){n.$rh(l),t.$m6(l);for(var r=l.$LVa();r.$ti;r.$cn()){var a=r.$Fi;n.indexOf(a)>-1&&(n.$rh(a),t.$m6(a),b($,a,n,t))}}}}var h=f.lang.ClassDefinition,c=(f.lang.InterfaceDefinition,f.lang.AttributeDefinition,f.lang.EnumDefinition),v=(f.lang.StructDefinition,f.lang.Abstract,f.lang.module),m=(f.lang.delegate,f.lang.Boolean,f.lang.Number,f.lang.Void,f.lang.Object),p=(f.lang.String,f.lang.decorators.Type),C=f.lang.decorators.OptionArgs,w=f.lang.decorators.SetterArg;f.lang.addMappings("yFiles-for-HTML-Complete-2.4.0.5 (Build 9825e899dca2)",{get _$_ivd(){return["alignment","$UU",p("yfiles._R.C.CUC",5)]},_$_jvd:["topLayout","$VU"],_$_cnf:["partnerlessBelow","$jta"],_$_lhg:["offsetForFamilyNodes","$ODa"],_$_jqg:["familyNodesAlwaysBelow","$sIa"],get _$_qah(){return["familyMembersSortingPolicy","$FNa",p("yfiles._R.C.DUC",5)]},_$_rbh:["spacingBetweenFamilyMembers","$jOa"],get _$_vvn(){return["FamilyTreeLayout","AUC",C(w("topLayout"),w("spacingBetweenFamilyMembers"),w("offsetForFamilyNodes"),w("partnerlessBelow"),w("familyNodesAlwaysBelow"),w("alignment","yfiles._R.C.CUC"),w("parallelEdgeRouterEnabled"),w("selfLoopRouterEnabled"),w("familyMembersSortingPolicy","yfiles._R.C.DUC"),w("labeling"),w("selfLoopRouter"),w("parallelEdgeRouter"),w("componentLayout"),w("subgraphLayout"),w("hideGroupsStage"),w("orientationLayout"),w("orientationLayoutEnabled"),w("layoutOrientation","yfiles._R.C.MOC"),w("labelingEnabled"),w("hideGroupsStageEnabled"),w("componentLayoutEnabled"),w("subgraphLayoutEnabled"))]},_$_wvn:["FamilyType","BUC"],_$_xvn:["VerticalNodeAlignment","CUC"],_$_yvn:["FamilyMembersSortingPolicy","DUC"],_$$_zxa:["yfiles.genealogy","yfiles._R.T","yfiles._R.C"]});var O=["Unknown alignment.","DataProvider "," is not registered to the graph.","FamilyTreeLayout","FamilyTypeDpKey","Direct link between two individuals","Family node has more than two parent nodes","Direct link between two family nodes"];v("_$$_zxa",function($){$._$_yvn=new c(function(){return{NO_SORTING:0,FEMALE_FIRST:1,FEMALE_ALWAYS_FIRST:2,MALE_FIRST:3,MALE_ALWAYS_FIRST:4}})}),v("_$$_zxa",function(n){n._$_vvn=new h(function(){return{$extends:$.C.XQC,constructor:function(){$.C.XQC.call(this),this.$f=null,this.$KIa=!1,this.$ewa.$DY=12,this.$f12=i(this)},$f16:null,$f17:null,$f3:null,$f4:null,$f19:null,$f9:null,$f2:null,$f15:null,$f6:null,$f8:null,$f21:null,$f22:null,$f12:null,$f24:!0,$f13:30,$f14:10,$f10:!0,$f18:!1,$f7:0,_$_jvd:{get:function(){return this.$f12},set:function($){this.$f12=null===$?i(this):$}},"$m1!":function(){if(!this.$f24||0!==this.$f20)return!1;var f=this.$VU;return $.C.CQC.isInstance(f)&&(f=f.$Wk),f instanceof $.C.GVC},_$_rbh:{get:function(){return this.$f13},set:function(f){if(f<0)throw $.JG.$m2();this.$f13=f}},_$_lhg:{get:function(){return this.$f14},set:function(f){if(f<0)throw $.JG.$m2();this.$f14=f}},_$_cnf:{get:function(){return this.$f10},set:function($){this.$f10=$}},_$_jqg:{get:function(){return this.$f18},set:function($){this.$f18=$}},_$_ivd:{get:function(){return this.$f7},set:function(f){var n=0;switch(0|f){case 1:n=1;break;case 0:n=.5;break;case-1:n=0;break;default:throw $.JG.$m18(O[0])}null!==this.$f12&&this.$f12 instanceof $.C.GVC&&(this.$f12.$eEa.$Zma=n),this.$f7=0|f}},$WMa:{set:function($){this.$f49=$}},$zGa:{set:function($){this.$f32=$}},$f20:0,$f:null,_$_qah:{get:function(){return this.$f20},set:function(f){switch(0|f){case 0:case 1:case 2:case 3:case 4:this.$f20=0|f;break;default:throw $.JG.$m2()}}},$Fib:function(f){if(null===f.$Lgb($.O.$p53))throw $.JG.$m28(O[1]+$.O.$p53+O[2]);var n=new $.C.LDB(f),t=f.$Lgb($.O.$p3),i=f.$Lgb($.O.$p34),l=f.$Lgb($.O.$p4),r=f.$Lgb($.O.$p66),e=new $.C.LDB(f),o=null,u=$.T.MDB.$n(),s=$.T.MDB.$n(),b=$.T.MDB.$n(),h=$.T.MDB.$n(),c=$.T.MDB.$k(),v=null;if(function(f,n){f.$f21=$.T.MDB.$n();var t=n.$Lgb($.O.$p53);if(null!==t)for(var i=n.$vUa();i.$ti;i.$cn()){var l=i.$Fi;1===t.$no(l)&&f.$f21.$Vt(l,l.$f7)}}(this,f),function(f,n){f.$f22=$.T.MDB.$n();var t=n.$Lgb($.O.$p53);if(null!==t)for(var i=n.$vUa();i.$ti;i.$cn()){var l=i.$Fi;1===t.$no(l)&&f.$f22.$Vt(l,l.$f6)}}(this,f),null!==t){o=f.$sUa();for(var p=!1,C=f.$uUa();C.$ti;C.$cn()){var w=C.$Ei;t.$ld(w.$f2)!==t.$ld(w.$f3)?(o.$td(w,!0),e.$LXa(w),p=!0):o.$td(w,!1)}p||(f.$Ifb(o),o=null);for(var g=f.$vUa();g.$ti;g.$cn()){var d=g.$Fi;t.$ld(d)&&(c.$Pt(l.$no(d),d),n.$NXa(d),u.$td(d,!0),s.$Pt(d,i.$no(d)),b.$Pt(d,l.$no(d)),h.$Pt(d,r.$no(d)))}null!==t&&f.$llb($.O.$p3),null!==i&&f.$llb($.O.$p34),null!==l&&f.$llb($.O.$p4),null!==r&&f.$llb($.O.$p66)}var _=new $.T.AUC.T1(this);if(a(this,f,_),null!==t){var T=new $.C.PDB(f);for(g=f.$vUa();g.$ti;g.$cn()){d=g.$Fi;if(T.$udb(d)){var F=new $.FE;u.$td(d,!1);for(var B=T.$sdb(d).$m4();B.$p;){var L=B.$m(),E=i.$no(L);if(null!==E){for(var y=0;y<F.$Tb;y++)if(E===i.$no(F.$Wb(y))){E=null;break}null!==E&&F.$m(L)}}if(0===F.$Tb){L=T.$sdb(d).$OSa();s.$Pt(d,i.$no(L)),b.$Pt(d,l.$no(L))}else if(s.$Pt(d,i.$no(F.$Wb(0))),b.$Pt(d,l.$no(F.$Wb(0))),F.$Tb>1){for(var U=0;U<F.$Tb;U++)for(var W=c.$no(i.$no(F.$Wb(U))),V=0;V<F.$Tb;V++){var P=c.$no(i.$no(F.$Wb(V)));m.equals(l.$no(P),i.$no(W))&&F.$m3(V)}if(s.$Pt(d,i.$no(F.$Wb(0))),b.$Pt(d,l.$no(F.$Wb(0))),1===F.$Tb);else{null===v&&(v=new $.C.TCB.$a);var k=f.$jTa();v.$m6(k),u.$td(k,!0),b.$Pt(k,k);for(y=1;y<F.$Tb;y++)for(var x=F.$Wb(0),D=!1;null!==x;){for(var M=c.$no(i.$no(x)),A=F.$Wb(y);null!==A;){var S=c.$no(i.$no(A));if(S===M){if(F.$Wb(0)!==x)for(var G=0;G<y;G++)F.$Zb(G,x);F.$Zb(y,A),D=!0;break}A=S}if(D)break;for(G=0;G<y;G++)F.$Zb(G,x);x=M}for(y=0;y<F.$Tb;y++)s.$Pt(F.$Wb(y),k);s.$Pt(k,i.$no(F.$Wb(0))),n.$NXa(k)}}}else u.$td(d,!1),s.$Pt(d,i.$no(d)),b.$Pt(d,l.$no(d))}T.$vSa()}var R=new $.T.AUC.T2(this,this.$VU),j=new $.T.AUC.T4(n,t,u,s,b,h,R),I=new $.C.UQC;I.$Wk=j;var Y=new $.C.PPC(I,null);Y.$Tma=this.$m1();try{new $.T.AUC.T3(this,Y,_,R).$kp(f)}finally{!function(f,n){null!==f.$f16&&(n.$llb($.O.$p109),n.$Ifb(f.$f16),f.$f16=null),null!==f.$f17&&(n.$llb($.O.$p110),n.$Ifb(f.$f17),f.$f17=null),null!==f.$f3&&(n.$llb($.O.$p167),n.$Ifb(f.$f3),f.$f3=null),null!==f.$f4&&(n.$llb($.O.$p168),n.$Ifb(f.$f4),f.$f4=null),null!==f.$f8&&(n.$llb($.O.$p66),n.$Jfb(f.$f8),f.$f8=null),null!==f.$f9&&(n.$llb($.O.$p25),n.$Jfb(f.$f9),f.$f9=null),null!==f.$f2&&(n.$llb($.O.$p4),n.$Jfb(f.$f2),f.$f2=null),null!==f.$f15&&(n.$llb($.O.$p34),n.$Jfb(f.$f15),f.$f15=null),null!==f.$f6&&(n.$llb($.O.$p3),n.$Jfb(f.$f6),f.$f6=null),null!==f.$f&&(f.$f.$An(),f.$f=null),f.$f19=null}(this,f),null!==t&&f.$pwb($.O.$p3,t),null!==i&&f.$pwb($.O.$p34,i),null!==l&&f.$pwb($.O.$p4,l),null!==r&&f.$pwb($.O.$p66,r)}if(n.$SSa(),null!==v){for(y=0;y<v.$f1;y++)f.$sbb(v.$Wb(y));v=null}if(e.$SSa(),null!==this.$f1)for(y=0;y<this.$f1.$Tb;y++)f.$sbb(this.$f11.$Wb(y));if(null!==o){f.$pwb($.O.$p92,o);var N=new $.C.ZZC;N.$Dza=$.O.$p92;try{N.$kp(f)}finally{f.$llb($.O.$p92),f.$Ifb(o)}}},$f5:null,$f1:null,$f11:null,$static:{FAMILY_TYPE_DP_KEY:null,T2:new h(function(){return{$extends:$.C.VQC,$final:!0,constructor:function(f,n){$.C.VQC.call(this,n),this.$f=f,this.$f1=$.T.MDB.$l()},$f1:null,"$m!":function($){return this.$f1.$no($)},"$kp!":function($){if(this.$Wk.$kp($),this.$f.$m1())for(var f=$.$vUa();f.$ti;f.$cn())for(var n=f.$Fi.$Ogb(null);n.$ti;n.$cn()){var t=n.$Ei;this.$f1.$Pt(t,$.$flb(t))}},$f:null}}),T3:new h(function(){return{$extends:$.C.VQC,$final:!0,constructor:function(f,n,t,i){$.C.VQC.call(this,n),this.$f=f,this.$f2=t,this.$f1=i},$f2:null,$f1:null,"$kp!":function(f){if(this.$f.$m1()){var n=new $.C.PDB(f),t=$.T.MDB.$n();!function(f,n,t,i){for(var l=t.$Lgb($.O.$p53),a=f.$f.$f11.$lRa();a.$ti;a.$cn()){var e=a.$Fi,o=n.$sdb(e);if(r(0,o,l)){i.$td(e,!0);for(var u=o.$lRa();u.$ti;u.$cn()){var s=u.$Fi;if(1!==l.$no(s))for(var b=s.$Ogb(null);b.$ti;b.$cn())f.$f.$f4.$Pt(b.$Ei,null)}}}}(this,n,f,t),this.$Wk.$kp(f),function(f,n,t,i,l){for(var r=n.$Lgb($.O.$p53),a=f.$f.$f11.$lRa();a.$ti;a.$cn()){var e=a.$Fi;if(i.$ld(e)){for(var o=t.$sdb(e),u=null,s=null,b=o.$lRa();b.$ti;b.$cn()){var h=b.$Fi;1!==r.$no(h)&&h.$f6>0&&(null===u?u=h:s=h)}if(null!==u&&null!==s){var c=n.$Ubb(u),v=n.$Ubb(s),m=l.$m(u.$f11).$f,p=l.$m(s.$f11).$f;if(c>v&&m<p||c<v&&m>p){var C=n.$Egb(e);for(b=o.$lRa();b.$ti;b.$cn()){h=b.$Fi;var w=C.$f+C.$f3-(n.$Ubb(h)-C.$f);n.$ozb(h,w,n.$Vbb(h))}}}}}}(this,f,n,t,this.$f1),function(f,n,t,i){for(var l=n.$Lgb($.O.$p53),r=f.$f.$f11.$lRa();r.$ti;r.$cn()){var a=r.$Fi;if(i.$ld(a))for(var e=t.$sdb(a).$lRa();e.$ti;e.$cn()){var o=e.$Fi;if(1!==l.$no(o))for(var u=o.$Ogb(null);u.$ti;u.$cn()){var s=u.$Ei;n.$vxb(s,new $.C.UBB.$b(0,-n.$m38(o).$ck/2)),f.$f.$f4.$Pt(s,$.T.BSC.$b(1,!0))}}}}(this,f,n,t),f.$pwb($.O.$p66,this.$f.$f8);var i=this.$f1.$Wk;i.$rY=0,this.$f2.$f1=!0,this.$Wk.$kp(f),i.$rY=1,this.$f2.$f1=!1,f.$llb($.O.$p151),n.$vSa()}else this.$Wk.$kp(f)},$f:null}}),T4:new h(function(){return{$extends:$.C.VQC,$final:!0,constructor:function(f,n,t,i,l,r,a){$.C.VQC.call(this,a),this.$f=f,this.$f1=n,this.$f2=t,this.$f5=i,this.$f4=l,this.$f3=r},"$kp!":function(f){var n=new $.C.TCB.$b(this.$f.$QVa());this.$f.$SSa(),null!==this.$f1&&(f.$pwb($.O.$p3,this.$f2),f.$pwb($.O.$p34,this.$f5),f.$pwb($.O.$p4,this.$f4),f.$pwb($.O.$p66,this.$f3)),this.$BPb(f),this.$f.$OXa(n),f.$llb($.O.$p3),f.$llb($.O.$p34),f.$llb($.O.$p4),f.$llb($.O.$p66)},$f:null,$f1:null,$f2:null,$f5:null,$f4:null,$f3:null}}),T:new h(function(){return{$final:!0,constructor:function($,f){this.$f1=$,this.$f=f},$f1:null,$f:null,"equals!":function($){if(this===$)return!0;if(null===$||f.lang.getType(this)!==f.lang.getType($))return!1;var n=$;return this.$f===n.$f&&this.$f1===n.$f1},"hashCode!":function(){var $=this.$f1.hashCode();return $=31*$+this.$f.hashCode()}}}),T1:new h(function(){return{$final:!0,$with:[$.C.AQC],constructor:function(f){this.$f=f,this.$f1=!1,this.$f3=$.T.MDB.$n(),this.$f2=new $.T.AUC.T1.T(this,this.$f3,this.$f.$f21)},$f1:!1,$f2:null,$f3:null,"$kp!":function(f){if(1!==f.$FS){if(2===f.$FS&&this.$f.$f10&&this.$f.$f22.$to(f.$ES)<2&&this.$f.$f22.$to(f.$vP)<2){for(var n=null,t=null,i=f.$vUa();i.$ti;i.$cn()){var r=i.$Fi;1!==f.$Lgb($.O.$p53).$no(r)?n=r:t=r}if(null!==n&&null!==t){var a=f.$m38(n),e=f.$m38(t);a.$bv(-a.$Gj/2,0),e.$bv(-e.$Gj/2,a.$ck+this.$f.$f14);for(var o=t.$Ogb(null);o.$ti;o.$cn()){var u=o.$Ei;($$=f.$m37(u)).$On(),$$.$pl=new $.C.UBB.$b(0,0),$$.$ql=new $.C.UBB.$b(0,0)}var s=this.$f.$f8.$no(n),b=new $.C.LBB(s.top,s.left,-this.$f.$f14-f.$m38(t).$ck,s.right);return void this.$f.$f8.$Pt(n,b)}}var h=new $.C.TCB.$a;if(this.$f1)h.$lYa(f.$vUa()),h.$PXa(new $.T.AUC.T1.T1(this,f));else{var c=new $.C.TCB.$a,v=new $.C.TCB.$a;for(i=f.$vUa();i.$ti;i.$cn()){r=i.$Fi;1!==f.$Lgb($.O.$p53).$no(r)?c.$m6(r):v.$m6(r)}for(var m=null,p=0,C=0;C<c.$f1;C++){(Q=c.$Wb(C)).$LVa().$Di>p&&(p=Q.$LVa().$Di,m=Q)}c.$rh(m),h.$m6(m),function f(n,t,i,r,a){for(var e=new $.C.TCB.$a,o=a.$LVa();o.$ti;o.$cn()){var u=o.$Fi;if(i.$rh(u)){var s=l(n,u,a,new $.C.TCB.$d(a));n.$f3.$Vt(u,s),e.$m6(u)}}e.$PXa(n.$f2);var b=a.$f2.$Lgb($.O.$p53),h=!1;if(1===e.$f1&&r.indexOf(a)===r.$f1-1&&(h=!0),2===n.$f.$f20||4===n.$f.$f20)for(var c=0;c<e.$f1;c++)4===n.$f.$f20===(2===b.$no(a))?r.$m6(e.$Wb(c)):r.$vh(0,e.$Wb(c));else if(0!==n.$f.$f20&&1===r.$f1&&1===e.$f1)3===n.$f.$f20===(2===b.$no(a))?r.$m6(e.$Wb(0)):r.$vh(0,e.$Wb(0));else{var v=r.indexOf(a),m=r.indexOf(a)+1;for(c=0;c<e.$f1;c++)c%2!==0||h?r.$vh(m,e.$Wb(c)):r.$vh(v,e.$Wb(c)),m++}var p=new $.C.TCB.$a;for(c=0;c<e.$f1;c++){for(var C=!1,w=null,O=(u=e.$Wb(c)).$VVa();O.$ti;O.$cn())if((w=O.$Fi)!==a){C=!0;break}if(t.$rh(w)){p.$m6(w);var g=r.indexOf(u);r.indexOf(a)>g?r.$vh(r.indexOf(u),w):r.$vh(r.indexOf(u)+1,w)}else if(C){var d=0;for(r.$rh(u),O=u.$VVa();O.$ti;O.$cn())d=Math.max(r.indexOf(O.$Fi),d);r.$vh(d,u)}}e=null;for(c=0;c<p.$f1;c++)f(n,t,i,r,p.$Wb(c))}(this,c,v,h,m)}var w=new $.C.TCB.$a,O=new $.C.TCB.$a,g=new $.FE,d=0,_=0,T=Number.MAX_VALUE;for(C=0;C<h.$f1;C++){r=h.$Wb(C);var F=f.$m38(r);1===f.$Lgb($.O.$p53).$no(r)?(w.$m6(r),g.$m(C),F.$bv(d+Math.max((this.$f.$f13-F.$Gj)/2,F.$Gj/4),-F.$ck/2),d=d+Math.max(1.5*F.$Gj,this.$f.$f13)|0):(O.$m6(r),T=Math.min(F.$ck,T),_=Math.max(F.$ck,_),F.$bv(d,-F.$ck/2),d=d+F.$Gj|0)}if(0!==this.$f.$f7)for(C=0;C<O.$f1;C++){F=f.$m38(O.$Wb(C));1===this.$f.$f7?F.$bv(F.$ri,-(F.$ck-T/2)):F.$bv(F.$ri,-T/2)}var B=$.DF.$m11(h.$f1),L=-2;for(C=0;C<w.$f1;C++){var E=w.$Wb(C),y=!1,U=$.VE.$m8(g.$Wb(C));if(this.$f.$f18||L===U-1&&0===B[L])y=!0;else for(var W=E.$VVa();W.$ti;W.$cn()){var V=W.$Fi,P=h.indexOf(V)-U;if(Math.abs(P)>2){y=!0;break}}if(y)B[U]=1;else{var k=new $.C.UBB.$b(0,0);for(o=E.$Ogb(null);o.$ti;o.$cn()){u=o.$Ei;if(($$=f.$m37(u)).$On(),0===this.$f.$f7)$$.$pl=k;else{F=f.$m38(u.$f2);f.$sxb(u,new $.C.UBB.$b(F.$ri+F.$Gj/2,0))}$$.$ql=k}w.$m9(C),g.$m3(C),C--}L=U}var x,D=_/2;1===this.$f.$f7?D=T/2:-1===this.$f.$f7&&(D=_-T/2),x=D;for(C=0;C<w.$f1;C++){E=w.$Wb(C);for(var M=$.VE.$m8(g.$Wb(C)),A=0,S=E.$VVa();S.$ti;S.$cn()){for(var G=h.indexOf(S.$Fi),R=Math.min(M,G),j=Math.max(M,G),I=0,Y=R;Y<=j;Y++)I+=B[Y];A=Math.max(I,A)}F=f.$m38(E);var N=D+this.$f.$f14+(F.$ck+this.$f.$f14)*(A-1);F.$bv(F.$ri,N),x=Math.max(x,N+F.$ck)}for(var J=0;J<O.$f1;J++){var Q=O.$Wb(J),X=h.indexOf(Q),q=0,Z=new $.C.XAB.$a;for(o=Q.$Lib(null);o.$ti;o.$cn()){u=o.$Ei;B[h.indexOf(u.$f3)]>0&&(Z.$m6(u),q++)}if(q>0){var z=f.$m38(Q).$Gj/(q+1),K=$.DF.$m11(Z.$f1),H=$.DF.$m11(Z.$f1);for(C=0;C<Z.$f1;C++){K[C]=h.indexOf(Z.$Wb(C).$f3)-X,K[C]>0&&(K[C]-=2*h.$f1),H[C]=z;for(Y=0;Y<C;Y++)K[C]>K[Y]?H[Y]+=z:H[C]+=z}for(C=0;C<Z.$f1;C++){var $$;u=Z.$Wb(C);($$=f.$m37(u)).$On(),$$.$ql=new $.C.UBB.$b(0,0);var f$=f.$m38(Q),n$=f.$m38(u.$f3),t$=this.$f.$f19.$fc(u)?f$.$Gj/2:H[C],i$=n$.$si+n$.$ck/2;$$.$pl=new $.C.UBB.$b(t$-f$.$Gj/2,0),$$.$ru(f$.$ri+t$,i$)}}}var l$=(s=this.$f.$f8.$no(O.$Wb(0))).top,r$=s.bottom;null!==s&&0===this.$f.$f7?l$=x-D:null!==s&&1===this.$f.$f7&&(r$=D-x),this.$f.$f8.$Pt(O.$Wb(0),new $.C.LBB(l$,s.left,r$,s.right))}},$f:null,$static:{T:new h(function(){return{$final:!0,$with:[$.C.GEB],constructor:function($,f,n){this.$f1=$,this.$f=f,this.$f2=n},$f:null,$f2:null,"$wh!":function(f,n){var t=$.T.GDB.$m(this.$f.$to(f),this.$f.$to(n));return 0!==t?t:$.T.GDB.$m(this.$f2.$to(f),this.$f2.$to(n))},$f1:null}}),T1:new h(function(){return{$final:!0,$with:[$.C.GEB],constructor:function($,f){this.$f1=$,this.$f=f},$f:null,"$wh!":function(f,n){return $.T.GDB.$i(this.$f.$Ubb(f),this.$f.$Ubb(n))},$f1:null}})}}}),$clinit:function(){$.T.AUC.FAMILY_TYPE_DP_KEY=$.O.$m1($.C.BUC.$class,$.C.AUC.$class,O[3],O[4])}}}})}),v("_$$_zxa",function($){$._$_wvn=new c(function(){return{FAMILY:1,MALE:2,FEMALE:3}})}),v("_$$_zxa",function($){$._$_xvn=new c(function(){return{TOP:-1,CENTER:0,BOTTOM:1}})})}(y.lang.module("yfiles._R"),y,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self);export default y;
